!function e(t,o,r){function n(l,c){if(!o[l]){if(!t[l]){var i="function"==typeof require&&require;if(!c&&i)return i(l,!0);if(s)return s(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var u=o[l]={exports:{}};t[l][0].call(u.exports,function(e){var o=t[l][1][e];return n(o?o:e)},u,u.exports,e,t,o,r)}return o[l].exports}for(var s="function"==typeof require&&require,l=0;l<r.length;l++)n(r[l]);return n}({1:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=e("./directives"),s=r(n),l=e("./services"),c=r(l),i=angular.module("warframeTrade",["ngAnimate","ngTouch","ui.bootstrap","ui.router","ncy-angular-breadcrumb","ngScrollable",s["default"],c["default"]]),a=!1;i.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/home"),e.state("root",{url:"/home",views:{"":{template:"<root></root>"},"navbar@root":{template:"<custom-nav-bar user='userSession'></custom-nav-bar>",controller:["$scope","userSession",function(e,t){e.userSession=t}]},"body@root":{template:"<home user='userSession' children='children'></home>",controller:["$scope","userSession","children",function(e,t,o){e.userSession=t,e.children=o}]}},resolve:{userSession:["userSessionService",function(e){return e.getUserSession()}],children:["itemCategoryService",function(e,t){return e.getChildren("/Item")}]},ncyBreadcrumb:{label:"Home"}}).state("root.mods",{url:"/mods",views:{breadcrumb:{template:"<div ncy-breadcrumb></div>"},body:{templateUrl:"/ng/templates/root-mods-body-template.html"},"hierarchy@root.mods":{template:"<mods-hierarchy user='userSession' children='children'></mods-hierarchy>",controller:["$scope","userSession","children",function(e,t,o){e.userSession=t,e.children=o}]}},resolve:{children:["itemCategoryService",function(e){return e.getChildren("/Item/Mods")}]},ncyBreadcrumb:{label:"Mods"}}).state("root.mods.mode",{url:"/:mode",params:{level:"Mode"},views:{hierarchy:{template:"<mods-hierarchy user='userSession' children='children' getmodelabel='getModeLabel'></mods-hierarchy>",controller:["$scope","$stateParams","userSession","children",function(e,t,o,r){e.userSession=o,e.children=r,e.getModeLabel=function(){return t.mode}}]},items:{controller:["$scope",function(e){e.ncyBreadcrumbIgnore=!0}]}},resolve:{children:["itemCategoryService","$stateParams",function(e,t){return e.getChildren("/Item/Mods/"+t.mode)}]},ncyBreadcrumb:{label:"{{ getModeLabel() }}"}}).state("root.mods.type",{url:"/:mode/:type",params:{level:"Type"},views:{hierarchy:{template:"<mods-hierarchy user='userSession' children='children' getmodelabel='getModeLabel' gettypelabel='getTypeLabel'></mods-hierarchy>",controller:["$scope","$stateParams","userSession","children",function(e,t,o,r){e.userSession=o,e.children=r,e.getModeLabel=function(){return t.mode},e.getTypeLabel=function(){return t.type}}]},items:{template:"<mods-items user='userSession' children='children'></mods-items>",controller:["$scope","userSession","children",function(e,t,o){e.userSession=t,e.children=o,e.ncyBreadcrumbIgnore=!0}]}},resolve:{children:["itemCategoryService","$stateParams",function(e,t){return e.getChildren("/Item/Mods/"+t.mode+"/"+t.type)}]},ncyBreadcrumb:{parent:"root.mods.mode",label:"{{ getTypeLabel() }}"}}).state("root.mods.companion",{url:"/:mode/:type/:companion",params:{level:"Companion"},views:{hierarchy:{template:"<mods-hierarchy user='userSession' children='children' getmodelabel='getModeLabel' gettypelabel='getTypeLabel' getcompanionlabel='getCompanionLabel'></mods-hierarchy>",controller:["$scope","$stateParams","userSession","children",function(e,t,o,r){e.userSession=o,e.children=r,e.getModeLabel=function(){return t.mode},e.getTypeLabel=function(){return t.type},e.getCompanionLabel=function(){return t.companion}}]},items:{template:"<mods-items user='userSession' children='children'></mods-items>",controller:["$scope","userSession",function(e,t,o){e.userSession=t,e.children=o,e.ncyBreadcrumbIgnore=!0}]}},resolve:{children:["itemCategoryService","$stateParams",function(e,t){return e.getChildren("/Item/Mods/"+t.mode+"/"+t.type+"/"+t.companion)}]},ncyBreadcrumb:{parent:"root.mods.type",label:"{{ getCompanionLabel() }}"}})}]),i.run(["$rootScope","$state","$stateParams","$urlRouter",function(e,t,o,r){e.$state=t,e.$stateParams=o,e.$on("$stateChangeStart",function(e,t,o,r,n){a&&(console.log("state change start:"),console.log("from state:"),console.log(r),console.log(n),console.log("to state:"),console.log(t),console.log(o),console.log("\n\n\n"))})}])},{"./directives":6,"./services":12}],2:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(o,"__esModule",{value:!0}),o.newPostController=o.logInController=o.modsHierarchyController=o.modsItemsController=o.homeController=o.customNavBarController=o.rootController=void 0;var n=e("./root/rootController"),s=r(n),l=e("./customNavBar/customNavBarController"),c=r(l),i=e("./home/homeController"),a=r(i),u=e("./modsItems/modsItemsController"),d=r(u),m=e("./modsHierarchy/modsHierarchyController"),p=r(m),h=e("./logIn/logInController"),f=r(h),g=e("./newPost/newPostController"),v=r(g);o.rootController=s["default"],o.customNavBarController=c["default"],o.homeController=a["default"],o.modsItemsController=d["default"],o.modsHierarchyController=p["default"],o.logInController=f["default"],o.newPostController=v["default"]},{"./customNavBar/customNavBarController":3,"./home/homeController":5,"./logIn/logInController":7,"./modsHierarchy/modsHierarchyController":8,"./modsItems/modsItemsController":9,"./newPost/newPostController":10,"./root/rootController":11}],3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=["$scope","$http","$uibModal",function(e,t,o){var r=this,n=!1;e.ctrl=this,this.scope=e,n&&(console.log("scope:"),console.log(this.scope));var s={};this.newPost=function(){s.user=r.scope.user._id;var e=o.open({template:"<new-post item='item' cancel='cancel'></new-post>",controller:["$scope",function(t){t.item=s,t.cancel=e.dismiss}],backdrop:"static"})},this.logIn=function(){o.open({template:"<log-in></log-in>"})},this.logOut=function(){r.scope.user&&t.get("/api/logOut").success(function(e){n&&console.log("LogOut Successful!"),r.scope.user=e.user}).error(function(e){n&&console.log("LogOut Failed!")})}}];o["default"]=r},{}],4:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){return{restrict:"AE",controller:"rootController",templateUrl:"/ng/directives/root/rootView.html",scope:{user:"=user",children:"=children"}}},n=function(){return{restrict:"AE",controller:"customNavBarController",templateUrl:"/ng/directives/customNavBar/customNavBarView.html",scope:{user:"=user",children:"=children"}}},s=function(){return{restrict:"AE",controller:"homeController",templateUrl:"/ng/directives/home/homeView.html",scope:{user:"=user",children:"=children"}}},l=function(){return{restrict:"AE",controller:"modsItemsController",templateUrl:"/ng/directives/modsItems/modsItemsView.html",scope:{user:"=user",children:"=children"}}},c=function(){return{restrict:"AE",controller:"modsHierarchyController",templateUrl:"/ng/directives/modsHierarchy/modsHierarchyView.html",scope:{user:"=user",children:"=children",getModeLabel:"=getmodelabel",getTypeLabel:"=gettypelabel",getCompanionLabel:"=getcompanionlabel"}}},i=function(){return{restrict:"AE",controller:"logInController",templateUrl:"/ng/directives/logIn/logInView.html"}},a=function(){return{restrict:"AE",controller:"newPostController",templateUrl:"/ng/directives/newPost/newPostView.html",scope:{newItem:"=item",cancel:"=cancel"}}};o.root=r,o.customNavBar=n,o.home=s,o.modsItems=l,o.modsHierarchy=c,o.logIn=i,o.newPost=a},{}],5:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=["$scope",function(e){this.scope=e,this.scope.tempList=[];for(var t=0;100>t;++t)this.scope.tempList.push("Temp List Item "+t)}];o["default"]=r},{}],6:[function(e,t,o){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}Object.defineProperty(o,"__esModule",{value:!0});var n=e("./controllers"),s=r(n),l=e("./directives"),c=r(l);!function(e){var t=e.module("warframeDirectives",[]);for(var o in c)t.directive(o,c[o]);for(var r in s)t.controller(r,s[r])}(window.angular),o["default"]="warframeDirectives"},{"./controllers":2,"./directives":4}],7:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=["$scope",function(e){e.ctrl=this,this.scope=e}];o["default"]=r},{}],8:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=["$scope","$state",function(e,t){e.ctrl=this,this.scope=e;var o=!1,r={};this.toNextState=function(e){var o=t.params;o[r.value.toLowerCase()]=e,delete o.level,t.go("root.mods."+r.value.toLowerCase(),o)};var n=function(){var n=t.params;switch(n.level){case"Mode":r.value="Type";break;case"Type":r.value="Companion";break;case"Companion":r.value="placeholderstate";break;default:r.value="Mode"}o&&(console.log("inside reloadDirective"),console.log("current state: "+t.current.name),console.log(e)),o&&(console.log("stateParams:"),console.log(n)),e.options=e.children,o&&(console.log("nextLevel:"),console.log(r),console.log("state:"),console.log(t),console.log("scope:"),console.log(e),console.log("\n\n\n"))};n()}];o["default"]=r},{}],9:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=["$scope","$stateParams",function(e,t){e.ctrl=this,this.scope=e;this.scope.tempListItems=[];for(var o=0;5>o;++o)this.scope.tempListItems.push("tempListItem"+(o+1))}];o["default"]=r},{}],10:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=["$scope","$http",function(e,t){var o=this,r=!1;e.ctrl=this,this.scope=e,this.scope.transactions=["Deal","Auction"],this.scope.categories=["Mods","Sortie Weapons","Void Parts","Keys","Arcanes"],this.scope.datePicker={format:"yyyy-MM-dd",options:{minDate:new Date,startingDay:1}},this.submitPost=function(){var e=o.scope.newItem.category._id;o.scope.newItem.category.name=e,o.scope.newItem.category.parent=null,o.scope.newItem.category.ancestors=null,r&&console.log(o.scope),t.post("/api/item/new",o.scope.newItem,{headers:{"Content-Type":"application/json"}}).then(function(e){r&&(console.log("newPostController, submitPost success!"),console.log(e)),o.cancelPost()},function(e){r&&(console.log("newPostController, submitPost error!"),console.log(e))})},this.cancelPost=function(){return o.scope.cancel()},this.scope.newItem.expiry||(this.scope.newItem.expiry=(new Date).setDate((new Date).getDate()+3)),this.scope.newItem.transaction||(this.scope.newItem.transaction=this.scope.transactions[0]),this.scope.newItem.category||(this.scope.newItem.category={_id:this.scope.categories[0]})}];o["default"]=r},{}],11:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=["$scope",function(e){e.ctrl=this,this.scope=e}];o["default"]=r},{}],12:[function(e,t,o){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}var n=e("./services"),s=r(n);!function(e){var t=e.module("warframeServices",[]);for(var o in s)t.service(o,s[o])}(window.angular),t.exports="warframeServices"},{"./services":14}],13:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=["$http","$q",function(e,t){var o={};return{getCategory:function(t){return o[t]&&void 0!==o[t].category?o[t].category:e.get("/api/category"+t).then(function(e){return o[t]||(o[t]={}),o[t].category=e.data.category,e.data.category},function(e){return null})},getChildren:function(t){return o[t]&&void 0!==o[t].children?o[t].children:e.get("/api/category/children"+t).then(function(e){return o[t]||(o[t]={}),e.data.children&&0!=e.data.children.length?(o[t].children=e.data.children.map(function(e){return e.name}),o[t].children):(o[t].children=null,null)},function(e){return null})}}}];o["default"]=r},{}],14:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(o,"__esModule",{value:!0}),o.itemCategoryService=o.userSessionService=void 0;var n=e("./userSessionService"),s=r(n),l=e("./itemCategoryService"),c=r(l);o.userSessionService=s["default"],o.itemCategoryService=c["default"]},{"./itemCategoryService":13,"./userSessionService":15}],15:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=["$http","$q",function(e,t){return{getUserSession:function(){return e.get("/api/me").then(function(e){return e.data.user},function(e){return null})}}}];o["default"]=r},{}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMubWluLmpzIl0sIm5hbWVzIjpbImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJmIiwiRXJyb3IiLCJjb2RlIiwibCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kaXJlY3RpdmVzIiwiX2RpcmVjdGl2ZXMyIiwiX3NlcnZpY2VzIiwiX3NlcnZpY2VzMiIsImFwcCIsImFuZ3VsYXIiLCJkZWJ1ZyIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsIiIsInRlbXBsYXRlIiwibmF2YmFyQHJvb3QiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwidXNlclNlc3Npb24iLCJib2R5QHJvb3QiLCJjaGlsZHJlbiIsInJlc29sdmUiLCJ1c2VyU2Vzc2lvblNlcnZpY2UiLCJnZXRVc2VyU2Vzc2lvbiIsIml0ZW1DYXRlZ29yeVNlcnZpY2UiLCIkc3RhdGUiLCJnZXRDaGlsZHJlbiIsIm5jeUJyZWFkY3J1bWIiLCJsYWJlbCIsImJyZWFkY3J1bWIiLCJib2R5IiwidGVtcGxhdGVVcmwiLCJoaWVyYXJjaHlAcm9vdC5tb2RzIiwicGFyYW1zIiwibGV2ZWwiLCJoaWVyYXJjaHkiLCIkc3RhdGVQYXJhbXMiLCJnZXRNb2RlTGFiZWwiLCJtb2RlIiwiaXRlbXMiLCJuY3lCcmVhZGNydW1iSWdub3JlIiwiZ2V0VHlwZUxhYmVsIiwidHlwZSIsInBhcmVudCIsImdldENvbXBhbmlvbkxhYmVsIiwiY29tcGFuaW9uIiwicnVuIiwiJHJvb3RTY29wZSIsIiR1cmxSb3V0ZXIiLCIkb24iLCJldnQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwiY29uc29sZSIsImxvZyIsIi4vZGlyZWN0aXZlcyIsIi4vc2VydmljZXMiLCIyIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIm5ld1Bvc3RDb250cm9sbGVyIiwibG9nSW5Db250cm9sbGVyIiwibW9kc0hpZXJhcmNoeUNvbnRyb2xsZXIiLCJtb2RzSXRlbXNDb250cm9sbGVyIiwiaG9tZUNvbnRyb2xsZXIiLCJjdXN0b21OYXZCYXJDb250cm9sbGVyIiwicm9vdENvbnRyb2xsZXIiLCJ1bmRlZmluZWQiLCJfcm9vdENvbnRyb2xsZXIiLCJfcm9vdENvbnRyb2xsZXIyIiwiX2N1c3RvbU5hdkJhckNvbnRyb2xsZXIiLCJfY3VzdG9tTmF2QmFyQ29udHJvbGxlcjIiLCJfaG9tZUNvbnRyb2xsZXIiLCJfaG9tZUNvbnRyb2xsZXIyIiwiX21vZHNJdGVtc0NvbnRyb2xsZXIiLCJfbW9kc0l0ZW1zQ29udHJvbGxlcjIiLCJfbW9kc0hpZXJhcmNoeUNvbnRyb2xsZXIiLCJfbW9kc0hpZXJhcmNoeUNvbnRyb2xsZXIyIiwiX2xvZ0luQ29udHJvbGxlciIsIl9sb2dJbkNvbnRyb2xsZXIyIiwiX25ld1Bvc3RDb250cm9sbGVyIiwiX25ld1Bvc3RDb250cm9sbGVyMiIsIi4vY3VzdG9tTmF2QmFyL2N1c3RvbU5hdkJhckNvbnRyb2xsZXIiLCIuL2hvbWUvaG9tZUNvbnRyb2xsZXIiLCIuL2xvZ0luL2xvZ0luQ29udHJvbGxlciIsIi4vbW9kc0hpZXJhcmNoeS9tb2RzSGllcmFyY2h5Q29udHJvbGxlciIsIi4vbW9kc0l0ZW1zL21vZHNJdGVtc0NvbnRyb2xsZXIiLCIuL25ld1Bvc3QvbmV3UG9zdENvbnRyb2xsZXIiLCIuL3Jvb3Qvcm9vdENvbnRyb2xsZXIiLCIzIiwiJGh0dHAiLCIkdWliTW9kYWwiLCJfdGhpcyIsInRoaXMiLCJjdHJsIiwic2NvcGUiLCJpdGVtIiwibmV3UG9zdCIsInVzZXIiLCJtb2RhbEluc3RhbmNlIiwib3BlbiIsImNhbmNlbCIsImRpc21pc3MiLCJiYWNrZHJvcCIsImxvZ0luIiwibG9nT3V0IiwiZ2V0Iiwic3VjY2VzcyIsInJlcyIsImVycm9yIiwiZXJyIiwiNCIsInJvb3QiLCJyZXN0cmljdCIsImN1c3RvbU5hdkJhciIsImhvbWUiLCJtb2RzSXRlbXMiLCJtb2RzSGllcmFyY2h5IiwibmV3SXRlbSIsIjUiLCJ0ZW1wTGlzdCIsInB1c2giLCI2IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJuZXdPYmoiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIl9jb250cm9sbGVycyIsImRpcmVjdGl2ZUNvbnRyb2xsZXJzIiwiZGlyZWN0aXZlcyIsIndhcmZyYW1lRGlyZWN0aXZlcyIsIm5hbWUiLCJkaXJlY3RpdmUiLCJfbmFtZSIsIndpbmRvdyIsIi4vY29udHJvbGxlcnMiLCI3IiwiOCIsIm5leHRMZXZlbCIsInRvTmV4dFN0YXRlIiwic2VsZWN0ZWRPcHRpb24iLCJuZXh0UGFyYW1zIiwidG9Mb3dlckNhc2UiLCJnbyIsInJlbG9hZERpcmVjdGl2ZSIsInN0YXRlUGFyYW1zIiwiY3VycmVudCIsIm9wdGlvbnMiLCI5IiwidGVtcExpc3RJdGVtcyIsIjEwIiwidHJhbnNhY3Rpb25zIiwiY2F0ZWdvcmllcyIsImRhdGVQaWNrZXIiLCJmb3JtYXQiLCJtaW5EYXRlIiwiRGF0ZSIsInN0YXJ0aW5nRGF5Iiwic3VibWl0UG9zdCIsImNhdGVnb3J5IiwiYW5jZXN0b3JzIiwicG9zdCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJ0aGVuIiwiY2FuY2VsUG9zdCIsImV4cGlyeSIsInNldERhdGUiLCJnZXREYXRlIiwidHJhbnNhY3Rpb24iLCJfaWQiLCIxMSIsIjEyIiwic2VydmljZXMiLCJ3YXJmcmFtZVNlcnZpY2VzIiwic2VydmljZSIsIjEzIiwiJHEiLCJjYWNoZSIsImdldENhdGVnb3J5IiwicGF0aCIsImRhdGEiLCJtYXAiLCIxNCIsIl91c2VyU2Vzc2lvblNlcnZpY2UiLCJfdXNlclNlc3Npb25TZXJ2aWNlMiIsIl9pdGVtQ2F0ZWdvcnlTZXJ2aWNlIiwiX2l0ZW1DYXRlZ29yeVNlcnZpY2UyIiwiLi9pdGVtQ2F0ZWdvcnlTZXJ2aWNlIiwiLi91c2VyU2Vzc2lvblNlcnZpY2UiLCIxNSJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBVUEsR0FBRUMsRUFBRUMsRUFBRUMsR0FBRyxRQUFTQyxHQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsR0FBSUUsR0FBa0Isa0JBQVRDLFVBQXFCQSxPQUFRLEtBQUlGLEdBQUdDLEVBQUUsTUFBT0EsR0FBRUYsR0FBRSxFQUFJLElBQUdJLEVBQUUsTUFBT0EsR0FBRUosR0FBRSxFQUFJLElBQUlLLEdBQUUsR0FBSUMsT0FBTSx1QkFBdUJOLEVBQUUsSUFBSyxNQUFNSyxHQUFFRSxLQUFLLG1CQUFtQkYsRUFBRSxHQUFJRyxHQUFFWCxFQUFFRyxJQUFJUyxXQUFZYixHQUFFSSxHQUFHLEdBQUdVLEtBQUtGLEVBQUVDLFFBQVEsU0FBU2QsR0FBRyxHQUFJRSxHQUFFRCxFQUFFSSxHQUFHLEdBQUdMLEVBQUcsT0FBT0ksR0FBRUYsRUFBRUEsRUFBRUYsSUFBSWEsRUFBRUEsRUFBRUMsUUFBUWQsRUFBRUMsRUFBRUMsRUFBRUMsR0FBRyxNQUFPRCxHQUFFRyxHQUFHUyxRQUFrRCxJQUFJLEdBQTFDTCxHQUFrQixrQkFBVEQsVUFBcUJBLFFBQWdCSCxFQUFFLEVBQUVBLEVBQUVGLEVBQUVhLE9BQU9YLElBQUlELEVBQUVELEVBQUVFLEdBQUksT0FBT0QsS0FBS2EsR0FBRyxTQUFTVCxFQUFRVSxFQUFPSixHQUN2ZCxZQVVBLFNBQVNLLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBUnZGLEdBQUlHLEdBQWNmLEVBQVEsZ0JBRXRCZ0IsRUFBZUwsRUFBdUJJLEdBRXRDRSxFQUFZakIsRUFBUSxjQUVwQmtCLEVBQWFQLEVBQXVCTSxHQU9wQ0UsRUFBTUMsUUFBUVYsT0FBTyxpQkFBa0IsWUFBYSxVQUFXLGVBQWdCLFlBQWEseUJBQTBCLGVBQWdCTSxF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QUkwRSxLQUFLcEYsTUFFbEIsU0FBVVksR0FDUixNQUFPLFdBTWYzSCxHQUFBQSxXQUFrQmdDLFlBRVAiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIF9kaXJlY3RpdmVzID0gcmVxdWlyZShcIi4vZGlyZWN0aXZlc1wiKTtcblxudmFyIF9kaXJlY3RpdmVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RpcmVjdGl2ZXMpO1xuXG52YXIgX3NlcnZpY2VzID0gcmVxdWlyZShcIi4vc2VydmljZXNcIik7XG5cbnZhciBfc2VydmljZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VydmljZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBFeHRlcm5hbCBkZXBlbmRlbmNpZXMgaW5jbHVkZWQgaW4gY2xpZW50L3ZlbmRvcnMvc2NyaXB0cy5qcyFcblxuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJ3YXJmcmFtZVRyYWRlXCIsIFtcIm5nQW5pbWF0ZVwiLCBcIm5nVG91Y2hcIiwgXCJ1aS5ib290c3RyYXBcIiwgXCJ1aS5yb3V0ZXJcIiwgXCJuY3ktYW5ndWxhci1icmVhZGNydW1iXCIsIFwibmdTY3JvbGxhYmxlXCIsIF9kaXJlY3RpdmVzMi5kZWZhdWx0LCBfc2VydmljZXMyLmRlZmF1bHRdKTtcbnZhciBkZWJ1ZyA9IGZhbHNlO1xuXG5hcHAuY29uZmlnKFtcIiRzdGF0ZVByb3ZpZGVyXCIsIFwiJHVybFJvdXRlclByb3ZpZGVyXCIsIGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvaG9tZVwiKTtcblxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInJvb3RcIiwge1xuICAgIHVybDogXCIvaG9tZVwiLFxuICAgIHZpZXdzOiB7XG4gICAgICBcIlwiOiB7IHRlbXBsYXRlOiBcIjxyb290Pjwvcm9vdD5cIiB9LFxuICAgICAgXCJuYXZiYXJAcm9vdFwiOiB7XG4gICAgICAgIHRlbXBsYXRlOiBcIjxjdXN0b20tbmF2LWJhclwiICsgXCIgdXNlcj0ndXNlclNlc3Npb24nXCIgKyBcIj48L2N1c3RvbS1uYXYtYmFyPlwiLFxuICAgICAgICBjb250cm9sbGVyOiBbXCIkc2NvcGVcIiwgXCJ1c2VyU2Vzc2lvblwiLCBmdW5jdGlvbiAoJHNjb3BlLCB1c2VyU2Vzc2lvbikge1xuICAgICAgICAgICRzY29wZS51c2VyU2Vzc2lvbiA9IHVzZXJTZXNzaW9uO1xuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgIFwiYm9keUByb290XCI6IHtcbiAgICAgICAgdGVtcGxhdGU6IFwiPGhvbWVcIiArIFwiIHVzZXI9J3VzZXJTZXNzaW9uJ1wiICsgXCIgY2hpbGRyZW49J2NoaWxkcmVuJ1wiICsgXCI+PC9ob21lPlwiLFxuICAgICAgICBjb250cm9sbGVyOiBbXCIkc2NvcGVcIiwgXCJ1c2VyU2Vzc2lvblwiLCBcImNoaWxkcmVuXCIsIGZ1bmN0aW9uICgkc2NvcGUsIHVzZXJTZXNzaW9uLCBjaGlsZHJlbikge1xuICAgICAgICAgICRzY29wZS51c2VyU2Vzc2lvbiA9IHVzZXJTZXNzaW9uO1xuICAgICAgICAgICRzY29wZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB9XVxuICAgICAgfVxuICAgIH0sXG4gICAgcmVzb2x2ZToge1xuICAgICAgdXNlclNlc3Npb246IFtcInVzZXJTZXNzaW9uU2VydmljZVwiLCBmdW5jdGlvbiAodXNlclNlc3Npb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiB1c2VyU2Vzc2lvblNlcnZpY2UuZ2V0VXNlclNlc3Npb24oKTtcbiAgICAgIH1dLFxuICAgICAgY2hpbGRyZW46IFtcIml0ZW1DYXRlZ29yeVNlcnZpY2VcIiwgZnVuY3Rpb24gKGl0ZW1DYXRlZ29yeVNlcnZpY2UsICRzdGF0ZSkge1xuICAgICAgICByZXR1cm4gaXRlbUNhdGVnb3J5U2VydmljZS5nZXRDaGlsZHJlbihcIi9JdGVtXCIpO1xuICAgICAgfV1cbiAgICB9LFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiBcIkhvbWVcIlxuICAgIH1cbiAgfSkuc3RhdGUoXCJyb290Lm1vZHNcIiwge1xuICAgIHVybDogXCIvbW9kc1wiLFxuICAgIHZpZXdzOiB7XG4gICAgICBcImJyZWFkY3J1bWJcIjogeyB0ZW1wbGF0ZTogXCI8ZGl2IG5jeS1icmVhZGNydW1iPjwvZGl2PlwiIH0sXG4gICAgICBcImJvZHlcIjoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogXCIvbmcvdGVtcGxhdGVzL3Jvb3QtbW9kcy1ib2R5LXRlbXBsYXRlLmh0bWxcIlxuICAgICAgfSxcbiAgICAgIFwiaGllcmFyY2h5QHJvb3QubW9kc1wiOiB7XG4gICAgICAgIHRlbXBsYXRlOiBcIjxtb2RzLWhpZXJhcmNoeVwiICsgXCIgdXNlcj0ndXNlclNlc3Npb24nXCIgKyBcIiBjaGlsZHJlbj0nY2hpbGRyZW4nXCIgKyBcIj48L21vZHMtaGllcmFyY2h5PlwiLFxuICAgICAgICBjb250cm9sbGVyOiBbXCIkc2NvcGVcIiwgXCJ1c2VyU2Vzc2lvblwiLCBcImNoaWxkcmVuXCIsIGZ1bmN0aW9uICgkc2NvcGUsIHVzZXJTZXNzaW9uLCBjaGlsZHJlbikge1xuICAgICAgICAgICRzY29wZS51c2VyU2Vzc2lvbiA9IHVzZXJTZXNzaW9uO1xuICAgICAgICAgICRzY29wZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB9XVxuICAgICAgfVxuICAgIH0sXG4gICAgcmVzb2x2ZToge1xuICAgICAgY2hpbGRyZW46IFtcIml0ZW1DYXRlZ29yeVNlcnZpY2VcIiwgZnVuY3Rpb24gKGl0ZW1DYXRlZ29yeVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1DYXRlZ29yeVNlcnZpY2UuZ2V0Q2hpbGRyZW4oXCIvSXRlbS9Nb2RzXCIpO1xuICAgICAgfV1cbiAgICB9LFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiBcIk1vZHNcIlxuICAgIH1cbiAgfSkuc3RhdGUoXCJyb290Lm1vZHMubW9kZVwiLCB7XG4gICAgdXJsOiBcIi86bW9kZVwiLFxuICAgIHBhcmFtczoge1xuICAgICAgbGV2ZWw6IFwiTW9kZVwiXG4gICAgfSxcbiAgICB2aWV3czoge1xuICAgICAgXCJoaWVyYXJjaHlcIjoge1xuICAgICAgICB0ZW1wbGF0ZTogXCI8bW9kcy1oaWVyYXJjaHlcIiArIFwiIHVzZXI9J3VzZXJTZXNzaW9uJ1wiICsgXCIgY2hpbGRyZW49J2NoaWxkcmVuJ1wiICsgXCIgZ2V0bW9kZWxhYmVsPSdnZXRNb2RlTGFiZWwnXCIgKyBcIj48L21vZHMtaGllcmFyY2h5PlwiLFxuICAgICAgICBjb250cm9sbGVyOiBbXCIkc2NvcGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCJ1c2VyU2Vzc2lvblwiLCBcImNoaWxkcmVuXCIsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgdXNlclNlc3Npb24sIGNoaWxkcmVuKSB7XG4gICAgICAgICAgJHNjb3BlLnVzZXJTZXNzaW9uID0gdXNlclNlc3Npb247XG4gICAgICAgICAgJHNjb3BlLmNoaWxkcmVuID0gY2hpbGRyZW47XG5cbiAgICAgICAgICAkc2NvcGUuZ2V0TW9kZUxhYmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICRzdGF0ZVBhcmFtcy5tb2RlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgXCJpdGVtc1wiOiB7XG4gICAgICAgIGNvbnRyb2xsZXI6IFtcIiRzY29wZVwiLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICAgLy8gTXVzdCBleHBsaWNpdGx5IHNldCBicmVhZGNydW1iIGlnbm9yZSBmb3IgbXVsdGl2aWV3IHNjb3Blc1xuICAgICAgICAgICRzY29wZS5uY3lCcmVhZGNydW1iSWdub3JlID0gdHJ1ZTtcbiAgICAgICAgfV1cbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmU6IHtcbiAgICAgIGNoaWxkcmVuOiBbXCJpdGVtQ2F0ZWdvcnlTZXJ2aWNlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIGZ1bmN0aW9uIChpdGVtQ2F0ZWdvcnlTZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1DYXRlZ29yeVNlcnZpY2UuZ2V0Q2hpbGRyZW4oXCIvSXRlbS9Nb2RzL1wiICsgJHN0YXRlUGFyYW1zLm1vZGUpO1xuICAgICAgfV1cbiAgICB9LFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiBcInt7IGdldE1vZGVMYWJlbCgpIH19XCJcbiAgICB9XG4gIH0pLnN0YXRlKFwicm9vdC5tb2RzLnR5cGVcIiwge1xuICAgIHVybDogXCIvOm1vZGUvOnR5cGVcIixcbiAgICBwYXJhbXM6IHtcbiAgICAgIGxldmVsOiBcIlR5cGVcIlxuICAgIH0sXG4gICAgdmlld3M6IHtcbiAgICAgIFwiaGllcmFyY2h5XCI6IHtcbiAgICAgICAgdGVtcGxhdGU6IFwiPG1vZHMtaGllcmFyY2h5XCIgKyBcIiB1c2VyPSd1c2VyU2Vzc2lvbidcIiArIFwiIGNoaWxkcmVuPSdjaGlsZHJlbidcIiArIFwiIGdldG1vZGVsYWJlbD0nZ2V0TW9kZUxhYmVsJ1wiICsgXCIgZ2V0dHlwZWxhYmVsPSdnZXRUeXBlTGFiZWwnXCIgKyBcIj48L21vZHMtaGllcmFyY2h5PlwiLFxuICAgICAgICBjb250cm9sbGVyOiBbXCIkc2NvcGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCJ1c2VyU2Vzc2lvblwiLCBcImNoaWxkcmVuXCIsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgdXNlclNlc3Npb24sIGNoaWxkcmVuKSB7XG4gICAgICAgICAgJHNjb3BlLnVzZXJTZXNzaW9uID0gdXNlclNlc3Npb247XG4gICAgICAgICAgJHNjb3BlLmNoaWxkcmVuID0gY2hpbGRyZW47XG5cbiAgICAgICAgICAkc2NvcGUuZ2V0TW9kZUxhYmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICRzdGF0ZVBhcmFtcy5tb2RlO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuZ2V0VHlwZUxhYmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICRzdGF0ZVBhcmFtcy50eXBlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgXCJpdGVtc1wiOiB7XG4gICAgICAgIHRlbXBsYXRlOiBcIjxtb2RzLWl0ZW1zXCIgKyBcIiB1c2VyPSd1c2VyU2Vzc2lvbidcIiArIFwiIGNoaWxkcmVuPSdjaGlsZHJlbidcIiArIFwiPjwvbW9kcy1pdGVtcz5cIixcbiAgICAgICAgY29udHJvbGxlcjogW1wiJHNjb3BlXCIsIFwidXNlclNlc3Npb25cIiwgXCJjaGlsZHJlblwiLCBmdW5jdGlvbiAoJHNjb3BlLCB1c2VyU2Vzc2lvbiwgY2hpbGRyZW4pIHtcbiAgICAgICAgICAkc2NvcGUudXNlclNlc3Npb24gPSB1c2VyU2Vzc2lvbjtcbiAgICAgICAgICAkc2NvcGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcblxuICAgICAgICAgIC8vIE11c3QgZXhwbGljaXRseSBzZXQgYnJlYWRjcnVtYiBpZ25vcmUgZm9yIG11bHRpdmlldyBzY29wZXNcbiAgICAgICAgICAkc2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSA9IHRydWU7XG4gICAgICAgIH1dXG4gICAgICB9XG4gICAgfSxcbiAgICByZXNvbHZlOiB7XG4gICAgICBjaGlsZHJlbjogW1wiaXRlbUNhdGVnb3J5U2VydmljZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBmdW5jdGlvbiAoaXRlbUNhdGVnb3J5U2VydmljZSwgJHN0YXRlUGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBpdGVtQ2F0ZWdvcnlTZXJ2aWNlLmdldENoaWxkcmVuKFwiL0l0ZW0vTW9kcy9cIiArICRzdGF0ZVBhcmFtcy5tb2RlICsgXCIvXCIgKyAkc3RhdGVQYXJhbXMudHlwZSk7XG4gICAgICB9XVxuICAgIH0sXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgcGFyZW50OiBcInJvb3QubW9kcy5tb2RlXCIsXG4gICAgICBsYWJlbDogXCJ7eyBnZXRUeXBlTGFiZWwoKSB9fVwiXG4gICAgfVxuICB9KS5zdGF0ZShcInJvb3QubW9kcy5jb21wYW5pb25cIiwge1xuICAgIHVybDogXCIvOm1vZGUvOnR5cGUvOmNvbXBhbmlvblwiLFxuICAgIHBhcmFtczoge1xuICAgICAgbGV2ZWw6IFwiQ29tcGFuaW9uXCJcbiAgICB9LFxuICAgIHZpZXdzOiB7XG4gICAgICBcImhpZXJhcmNoeVwiOiB7XG4gICAgICAgIHRlbXBsYXRlOiBcIjxtb2RzLWhpZXJhcmNoeVwiICsgXCIgdXNlcj0ndXNlclNlc3Npb24nXCIgKyBcIiBjaGlsZHJlbj0nY2hpbGRyZW4nXCIgKyBcIiBnZXRtb2RlbGFiZWw9J2dldE1vZGVMYWJlbCdcIiArIFwiIGdldHR5cGVsYWJlbD0nZ2V0VHlwZUxhYmVsJ1wiICsgXCIgZ2V0Y29tcGFuaW9ubGFiZWw9J2dldENvbXBhbmlvbkxhYmVsJ1wiICsgXCI+PC9tb2RzLWhpZXJhcmNoeT5cIixcbiAgICAgICAgY29udHJvbGxlcjogW1wiJHNjb3BlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwidXNlclNlc3Npb25cIiwgXCJjaGlsZHJlblwiLCBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIHVzZXJTZXNzaW9uLCBjaGlsZHJlbikge1xuICAgICAgICAgICRzY29wZS51c2VyU2Vzc2lvbiA9IHVzZXJTZXNzaW9uO1xuICAgICAgICAgICRzY29wZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuXG4gICAgICAgICAgJHNjb3BlLmdldE1vZGVMYWJlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAkc3RhdGVQYXJhbXMubW9kZTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLmdldFR5cGVMYWJlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAkc3RhdGVQYXJhbXMudHlwZTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLmdldENvbXBhbmlvbkxhYmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICRzdGF0ZVBhcmFtcy5jb21wYW5pb247XG4gICAgICAgICAgfTtcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICBcIml0ZW1zXCI6IHtcbiAgICAgICAgdGVtcGxhdGU6IFwiPG1vZHMtaXRlbXNcIiArIFwiIHVzZXI9J3VzZXJTZXNzaW9uJ1wiICsgXCIgY2hpbGRyZW49J2NoaWxkcmVuJ1wiICsgXCI+PC9tb2RzLWl0ZW1zPlwiLFxuICAgICAgICBjb250cm9sbGVyOiBbXCIkc2NvcGVcIiwgXCJ1c2VyU2Vzc2lvblwiLCBmdW5jdGlvbiAoJHNjb3BlLCB1c2VyU2Vzc2lvbiwgY2hpbGRyZW4pIHtcbiAgICAgICAgICAkc2NvcGUudXNlclNlc3Npb24gPSB1c2VyU2Vzc2lvbjtcbiAgICAgICAgICAkc2NvcGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcblxuICAgICAgICAgIC8vIE11c3QgZXhwbGljaXRseSBzZXQgYnJlYWRjcnVtYiBpZ25vcmUgZm9yIG11bHRpdmlldyBzY29wZXNcbiAgICAgICAgICAkc2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSA9IHRydWU7XG4gICAgICAgIH1dXG4gICAgICB9XG4gICAgfSxcbiAgICByZXNvbHZlOiB7XG4gICAgICBjaGlsZHJlbjogW1wiaXRlbUNhdGVnb3J5U2VydmljZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBmdW5jdGlvbiAoaXRlbUNhdGVnb3J5U2VydmljZSwgJHN0YXRlUGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBpdGVtQ2F0ZWdvcnlTZXJ2aWNlLmdldENoaWxkcmVuKFwiL0l0ZW0vTW9kcy9cIiArICRzdGF0ZVBhcmFtcy5tb2RlICsgXCIvXCIgKyAkc3RhdGVQYXJhbXMudHlwZSArIFwiL1wiICsgJHN0YXRlUGFyYW1zLmNvbXBhbmlvbik7XG4gICAgICB9XVxuICAgIH0sXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgcGFyZW50OiBcInJvb3QubW9kcy50eXBlXCIsXG4gICAgICBsYWJlbDogXCJ7eyBnZXRDb21wYW5pb25MYWJlbCgpIH19XCJcbiAgICB9XG4gIH0pO1xufV0pO1xuXG5hcHAucnVuKFtcIiRyb290U2NvcGVcIiwgXCIkc3RhdGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkdXJsUm91dGVyXCIsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJHVybFJvdXRlcikge1xuICAkcm9vdFNjb3BlLiRzdGF0ZSA9ICRzdGF0ZTtcbiAgJHJvb3RTY29wZS4kc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG5cbiAgJHJvb3RTY29wZS4kb24oXCIkc3RhdGVDaGFuZ2VTdGFydFwiLCBmdW5jdGlvbiAoZXZ0LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInN0YXRlIGNoYW5nZSBzdGFydDpcIik7XG4gICAgICBjb25zb2xlLmxvZyhcImZyb20gc3RhdGU6XCIpO1xuICAgICAgY29uc29sZS5sb2coZnJvbVN0YXRlKTtcbiAgICAgIGNvbnNvbGUubG9nKGZyb21QYXJhbXMpO1xuICAgICAgY29uc29sZS5sb2coXCJ0byBzdGF0ZTpcIik7XG4gICAgICBjb25zb2xlLmxvZyh0b1N0YXRlKTtcbiAgICAgIGNvbnNvbGUubG9nKHRvUGFyYW1zKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiXFxuXFxuXFxuXCIpO1xuICAgIH1cbiAgfSk7XG59XSk7XG5cbn0se1wiLi9kaXJlY3RpdmVzXCI6NixcIi4vc2VydmljZXNcIjoxMn1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm5ld1Bvc3RDb250cm9sbGVyID0gZXhwb3J0cy5sb2dJbkNvbnRyb2xsZXIgPSBleHBvcnRzLm1vZHNIaWVyYXJjaHlDb250cm9sbGVyID0gZXhwb3J0cy5tb2RzSXRlbXNDb250cm9sbGVyID0gZXhwb3J0cy5ob21lQ29udHJvbGxlciA9IGV4cG9ydHMuY3VzdG9tTmF2QmFyQ29udHJvbGxlciA9IGV4cG9ydHMucm9vdENvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG5cbnZhciBfcm9vdENvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi9yb290L3Jvb3RDb250cm9sbGVyXCIpO1xuXG52YXIgX3Jvb3RDb250cm9sbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jvb3RDb250cm9sbGVyKTtcblxudmFyIF9jdXN0b21OYXZCYXJDb250cm9sbGVyID0gcmVxdWlyZShcIi4vY3VzdG9tTmF2QmFyL2N1c3RvbU5hdkJhckNvbnRyb2xsZXJcIik7XG5cbnZhciBfY3VzdG9tTmF2QmFyQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jdXN0b21OYXZCYXJDb250cm9sbGVyKTtcblxudmFyIF9ob21lQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuL2hvbWUvaG9tZUNvbnRyb2xsZXJcIik7XG5cbnZhciBfaG9tZUNvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9tZUNvbnRyb2xsZXIpO1xuXG52YXIgX21vZHNJdGVtc0NvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi9tb2RzSXRlbXMvbW9kc0l0ZW1zQ29udHJvbGxlclwiKTtcblxudmFyIF9tb2RzSXRlbXNDb250cm9sbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vZHNJdGVtc0NvbnRyb2xsZXIpO1xuXG52YXIgX21vZHNIaWVyYXJjaHlDb250cm9sbGVyID0gcmVxdWlyZShcIi4vbW9kc0hpZXJhcmNoeS9tb2RzSGllcmFyY2h5Q29udHJvbGxlclwiKTtcblxudmFyIF9tb2RzSGllcmFyY2h5Q29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2RzSGllcmFyY2h5Q29udHJvbGxlcik7XG5cbnZhciBfbG9nSW5Db250cm9sbGVyID0gcmVxdWlyZShcIi4vbG9nSW4vbG9nSW5Db250cm9sbGVyXCIpO1xuXG52YXIgX2xvZ0luQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2dJbkNvbnRyb2xsZXIpO1xuXG52YXIgX25ld1Bvc3RDb250cm9sbGVyID0gcmVxdWlyZShcIi4vbmV3UG9zdC9uZXdQb3N0Q29udHJvbGxlclwiKTtcblxudmFyIF9uZXdQb3N0Q29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9uZXdQb3N0Q29udHJvbGxlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMucm9vdENvbnRyb2xsZXIgPSBfcm9vdENvbnRyb2xsZXIyLmRlZmF1bHQ7XG5leHBvcnRzLmN1c3RvbU5hdkJhckNvbnRyb2xsZXIgPSBfY3VzdG9tTmF2QmFyQ29udHJvbGxlcjIuZGVmYXVsdDtcbmV4cG9ydHMuaG9tZUNvbnRyb2xsZXIgPSBfaG9tZUNvbnRyb2xsZXIyLmRlZmF1bHQ7XG5leHBvcnRzLm1vZHNJdGVtc0NvbnRyb2xsZXIgPSBfbW9kc0l0ZW1zQ29udHJvbGxlcjIuZGVmYXVsdDtcbmV4cG9ydHMubW9kc0hpZXJhcmNoeUNvbnRyb2xsZXIgPSBfbW9kc0hpZXJhcmNoeUNvbnRyb2xsZXIyLmRlZmF1bHQ7XG5leHBvcnRzLmxvZ0luQ29udHJvbGxlciA9IF9sb2dJbkNvbnRyb2xsZXIyLmRlZmF1bHQ7XG5leHBvcnRzLm5ld1Bvc3RDb250cm9sbGVyID0gX25ld1Bvc3RDb250cm9sbGVyMi5kZWZhdWx0O1xuXG59LHtcIi4vY3VzdG9tTmF2QmFyL2N1c3RvbU5hdkJhckNvbnRyb2xsZXJcIjozLFwiLi9ob21lL2hvbWVDb250cm9sbGVyXCI6NSxcIi4vbG9nSW4vbG9nSW5Db250cm9sbGVyXCI6NyxcIi4vbW9kc0hpZXJhcmNoeS9tb2RzSGllcmFyY2h5Q29udHJvbGxlclwiOjgsXCIuL21vZHNJdGVtcy9tb2RzSXRlbXNDb250cm9sbGVyXCI6OSxcIi4vbmV3UG9zdC9uZXdQb3N0Q29udHJvbGxlclwiOjEwLFwiLi9yb290L3Jvb3RDb250cm9sbGVyXCI6MTF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGN1c3RvbU5hdkJhckNvbnRyb2xsZXIgPSBbXCIkc2NvcGVcIiwgXCIkaHR0cFwiLCBcIiR1aWJNb2RhbFwiLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHVpYk1vZGFsKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdmFyIGRlYnVnID0gZmFsc2U7XG5cbiAgJHNjb3BlLmN0cmwgPSB0aGlzO1xuICB0aGlzLnNjb3BlID0gJHNjb3BlO1xuXG4gIGlmIChkZWJ1Zykge1xuICAgIGNvbnNvbGUubG9nKFwic2NvcGU6XCIpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuc2NvcGUpO1xuICB9XG5cbiAgLypcbiAgICogSXRlbSB3aXRoaW4gY29udHJvbGxlciBzY29wZSwgc28gbmV3IHBvc3QgbW9kYWxcbiAgICogcmV0YWlucyBwcmV2aW91cyBmaWVsZHMgdXBvbiByZS1vcGVuL2Nsb3NlXG4gICAqL1xuICB2YXIgaXRlbSA9IHt9O1xuXG4gIHRoaXMubmV3UG9zdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpdGVtLnVzZXIgPSBfdGhpcy5zY29wZS51c2VyW1wiX2lkXCJdO1xuXG4gICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICB0ZW1wbGF0ZTogXCI8bmV3LXBvc3RcIiArIFwiIGl0ZW09J2l0ZW0nXCIgKyBcIiBjYW5jZWw9J2NhbmNlbCdcIiArIFwiPjwvbmV3LXBvc3Q+XCIsXG4gICAgICBjb250cm9sbGVyOiBbXCIkc2NvcGVcIiwgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUuaXRlbSA9IGl0ZW07XG4gICAgICAgICRzY29wZS5jYW5jZWwgPSBtb2RhbEluc3RhbmNlLmRpc21pc3M7XG4gICAgICB9XSxcbiAgICAgIC8vIFNvIHVzZXIgY2Fubm90IGFjY2lkZW50YWxseSBjbG9zZSBtb2RhbCBieSBjbGlja2luZyBvdXRzaWRlXG4gICAgICBiYWNrZHJvcDogXCJzdGF0aWNcIlxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMubG9nSW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICB0ZW1wbGF0ZTogXCI8bG9nLWluPjwvbG9nLWluPlwiXG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5sb2dPdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFfdGhpcy5zY29wZS51c2VyKSByZXR1cm47XG5cbiAgICAkaHR0cC5nZXQoXCIvYXBpL2xvZ091dFwiKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCJMb2dPdXQgU3VjY2Vzc2Z1bCFcIik7XG5cbiAgICAgIF90aGlzLnNjb3BlLnVzZXIgPSByZXMudXNlcjtcbiAgICB9KS5lcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKFwiTG9nT3V0IEZhaWxlZCFcIik7XG4gICAgfSk7XG4gIH07XG59XTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gY3VzdG9tTmF2QmFyQ29udHJvbGxlcjtcblxufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciByb290ID0gZnVuY3Rpb24gcm9vdCgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJBRVwiLFxuICAgIGNvbnRyb2xsZXI6IFwicm9vdENvbnRyb2xsZXJcIixcbiAgICB0ZW1wbGF0ZVVybDogXCIvbmcvZGlyZWN0aXZlcy9yb290L3Jvb3RWaWV3Lmh0bWxcIixcbiAgICBzY29wZToge1xuICAgICAgdXNlcjogXCI9dXNlclwiLFxuICAgICAgY2hpbGRyZW46IFwiPWNoaWxkcmVuXCJcbiAgICB9XG4gIH07XG59O1xuXG52YXIgY3VzdG9tTmF2QmFyID0gZnVuY3Rpb24gY3VzdG9tTmF2QmFyKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiBcIkFFXCIsXG4gICAgY29udHJvbGxlcjogXCJjdXN0b21OYXZCYXJDb250cm9sbGVyXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiL25nL2RpcmVjdGl2ZXMvY3VzdG9tTmF2QmFyL2N1c3RvbU5hdkJhclZpZXcuaHRtbFwiLFxuICAgIHNjb3BlOiB7XG4gICAgICB1c2VyOiBcIj11c2VyXCIsXG4gICAgICBjaGlsZHJlbjogXCI9Y2hpbGRyZW5cIlxuICAgIH1cbiAgfTtcbn07XG5cbnZhciBob21lID0gZnVuY3Rpb24gaG9tZSgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJBRVwiLFxuICAgIGNvbnRyb2xsZXI6IFwiaG9tZUNvbnRyb2xsZXJcIixcbiAgICB0ZW1wbGF0ZVVybDogXCIvbmcvZGlyZWN0aXZlcy9ob21lL2hvbWVWaWV3Lmh0bWxcIixcbiAgICBzY29wZToge1xuICAgICAgdXNlcjogXCI9dXNlclwiLFxuICAgICAgY2hpbGRyZW46IFwiPWNoaWxkcmVuXCJcbiAgICB9XG4gIH07XG59O1xuXG52YXIgbW9kc0l0ZW1zID0gZnVuY3Rpb24gbW9kc0l0ZW1zKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiBcIkFFXCIsXG4gICAgY29udHJvbGxlcjogXCJtb2RzSXRlbXNDb250cm9sbGVyXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiL25nL2RpcmVjdGl2ZXMvbW9kc0l0ZW1zL21vZHNJdGVtc1ZpZXcuaHRtbFwiLFxuICAgIHNjb3BlOiB7XG4gICAgICB1c2VyOiBcIj11c2VyXCIsXG4gICAgICBjaGlsZHJlbjogXCI9Y2hpbGRyZW5cIlxuICAgIH1cbiAgfTtcbn07XG5cbnZhciBtb2RzSGllcmFyY2h5ID0gZnVuY3Rpb24gbW9kc0hpZXJhcmNoeSgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJBRVwiLFxuICAgIGNvbnRyb2xsZXI6IFwibW9kc0hpZXJhcmNoeUNvbnRyb2xsZXJcIixcbiAgICB0ZW1wbGF0ZVVybDogXCIvbmcvZGlyZWN0aXZlcy9tb2RzSGllcmFyY2h5L21vZHNIaWVyYXJjaHlWaWV3Lmh0bWxcIixcbiAgICBzY29wZToge1xuICAgICAgdXNlcjogXCI9dXNlclwiLFxuICAgICAgY2hpbGRyZW46IFwiPWNoaWxkcmVuXCIsXG4gICAgICBnZXRNb2RlTGFiZWw6IFwiPWdldG1vZGVsYWJlbFwiLFxuICAgICAgZ2V0VHlwZUxhYmVsOiBcIj1nZXR0eXBlbGFiZWxcIixcbiAgICAgIGdldENvbXBhbmlvbkxhYmVsOiBcIj1nZXRjb21wYW5pb25sYWJlbFwiXG4gICAgfVxuICB9O1xufTtcblxudmFyIGxvZ0luID0gZnVuY3Rpb24gbG9nSW4oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6IFwiQUVcIixcbiAgICBjb250cm9sbGVyOiBcImxvZ0luQ29udHJvbGxlclwiLFxuICAgIHRlbXBsYXRlVXJsOiBcIi9uZy9kaXJlY3RpdmVzL2xvZ0luL2xvZ0luVmlldy5odG1sXCJcbiAgfTtcbn07XG5cbnZhciBuZXdQb3N0ID0gZnVuY3Rpb24gbmV3UG9zdCgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJBRVwiLFxuICAgIGNvbnRyb2xsZXI6IFwibmV3UG9zdENvbnRyb2xsZXJcIixcbiAgICB0ZW1wbGF0ZVVybDogXCIvbmcvZGlyZWN0aXZlcy9uZXdQb3N0L25ld1Bvc3RWaWV3Lmh0bWxcIixcbiAgICBzY29wZToge1xuICAgICAgbmV3SXRlbTogXCI9aXRlbVwiLFxuICAgICAgY2FuY2VsOiBcIj1jYW5jZWxcIlxuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydHMucm9vdCA9IHJvb3Q7XG5leHBvcnRzLmN1c3RvbU5hdkJhciA9IGN1c3RvbU5hdkJhcjtcbmV4cG9ydHMuaG9tZSA9IGhvbWU7XG5leHBvcnRzLm1vZHNJdGVtcyA9IG1vZHNJdGVtcztcbmV4cG9ydHMubW9kc0hpZXJhcmNoeSA9IG1vZHNIaWVyYXJjaHk7XG5leHBvcnRzLmxvZ0luID0gbG9nSW47XG5leHBvcnRzLm5ld1Bvc3QgPSBuZXdQb3N0O1xuXG59LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGhvbWVDb250cm9sbGVyID0gW1wiJHNjb3BlXCIsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgdGhpcy5zY29wZSA9ICRzY29wZTtcblxuICB0aGlzLnNjb3BlLnRlbXBMaXN0ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTAwOyArK2kpIHtcbiAgICB0aGlzLnNjb3BlLnRlbXBMaXN0LnB1c2goXCJUZW1wIExpc3QgSXRlbSBcIiArIGkpO1xuICB9XG59XTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gaG9tZUNvbnRyb2xsZXI7XG5cbn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY29udHJvbGxlcnMgPSByZXF1aXJlKFwiLi9jb250cm9sbGVyc1wiKTtcblxudmFyIGRpcmVjdGl2ZUNvbnRyb2xsZXJzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvbnRyb2xsZXJzKTtcblxudmFyIF9kaXJlY3RpdmVzID0gcmVxdWlyZShcIi4vZGlyZWN0aXZlc1wiKTtcblxudmFyIGRpcmVjdGl2ZXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZGlyZWN0aXZlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICB2YXIgd2FyZnJhbWVEaXJlY3RpdmVzID0gYW5ndWxhci5tb2R1bGUoXCJ3YXJmcmFtZURpcmVjdGl2ZXNcIiwgW10pO1xuXG4gIGZvciAodmFyIG5hbWUgaW4gZGlyZWN0aXZlcykge1xuICAgIHdhcmZyYW1lRGlyZWN0aXZlcy5kaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlc1tuYW1lXSk7XG4gIH1mb3IgKHZhciBfbmFtZSBpbiBkaXJlY3RpdmVDb250cm9sbGVycykge1xuICAgIHdhcmZyYW1lRGlyZWN0aXZlcy5jb250cm9sbGVyKF9uYW1lLCBkaXJlY3RpdmVDb250cm9sbGVyc1tfbmFtZV0pO1xuICB9XG59KSh3aW5kb3cuYW5ndWxhcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFwid2FyZnJhbWVEaXJlY3RpdmVzXCI7XG5cbn0se1wiLi9jb250cm9sbGVyc1wiOjIsXCIuL2RpcmVjdGl2ZXNcIjo0fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBsb2dJbkNvbnRyb2xsZXIgPSBbXCIkc2NvcGVcIiwgZnVuY3Rpb24gKCRzY29wZSkge1xuICAvLyBDb250cm9sbGVyIHN0dWIsIGluIGNhc2UgbmVlZGVkIGluIHRoZSBmdXR1cmVcbiAgJHNjb3BlLmN0cmwgPSB0aGlzO1xuICB0aGlzLnNjb3BlID0gJHNjb3BlO1xufV07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGxvZ0luQ29udHJvbGxlcjtcblxufSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBtb2RzSGllcmFyY2h5Q29udHJvbGxlciA9IFtcIiRzY29wZVwiLCBcIiRzdGF0ZVwiLCBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUpIHtcbiAgJHNjb3BlLmN0cmwgPSB0aGlzO1xuICB0aGlzLnNjb3BlID0gJHNjb3BlO1xuXG4gIHZhciBkZWJ1ZyA9IGZhbHNlO1xuICB2YXIgbmV4dExldmVsID0ge307XG5cbiAgdGhpcy50b05leHRTdGF0ZSA9IGZ1bmN0aW9uIChzZWxlY3RlZE9wdGlvbikge1xuICAgIC8vIEluaGVyaXQgYWxsIHN0YXRlUGFyYW1zIGJ1dCB0aGUgJ2xldmVsJyBzdGF0ZVBhcmFtXG4gICAgdmFyIG5leHRQYXJhbXMgPSAkc3RhdGUucGFyYW1zO1xuICAgIG5leHRQYXJhbXNbbmV4dExldmVsLnZhbHVlLnRvTG93ZXJDYXNlKCldID0gc2VsZWN0ZWRPcHRpb247XG4gICAgZGVsZXRlIG5leHRQYXJhbXMubGV2ZWw7XG5cbiAgICAkc3RhdGUuZ28oXCJyb290Lm1vZHMuXCIgKyBuZXh0TGV2ZWwudmFsdWUudG9Mb3dlckNhc2UoKSwgbmV4dFBhcmFtcyk7XG4gIH07XG5cbiAgdmFyIHJlbG9hZERpcmVjdGl2ZSA9IGZ1bmN0aW9uIHJlbG9hZERpcmVjdGl2ZSgpIHtcbiAgICB2YXIgc3RhdGVQYXJhbXMgPSAkc3RhdGUucGFyYW1zO1xuXG4gICAgc3dpdGNoIChzdGF0ZVBhcmFtcy5sZXZlbCkge1xuICAgICAgY2FzZSBcIk1vZGVcIjpcbiAgICAgICAgbmV4dExldmVsLnZhbHVlID0gXCJUeXBlXCI7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiVHlwZVwiOlxuICAgICAgICBuZXh0TGV2ZWwudmFsdWUgPSBcIkNvbXBhbmlvblwiO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIkNvbXBhbmlvblwiOlxuICAgICAgICBuZXh0TGV2ZWwudmFsdWUgPSBcInBsYWNlaG9sZGVyc3RhdGVcIjtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG5leHRMZXZlbC52YWx1ZSA9IFwiTW9kZVwiO1xuICAgIH1cblxuICAgIGlmIChkZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgcmVsb2FkRGlyZWN0aXZlXCIpO1xuICAgICAgY29uc29sZS5sb2coXCJjdXJyZW50IHN0YXRlOiBcIiArICRzdGF0ZS5jdXJyZW50Lm5hbWUpO1xuICAgICAgY29uc29sZS5sb2coJHNjb3BlKTtcbiAgICB9XG5cbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwic3RhdGVQYXJhbXM6XCIpO1xuICAgICAgY29uc29sZS5sb2coc3RhdGVQYXJhbXMpO1xuICAgIH1cblxuICAgICRzY29wZS5vcHRpb25zID0gJHNjb3BlLmNoaWxkcmVuO1xuXG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIm5leHRMZXZlbDpcIik7XG4gICAgICBjb25zb2xlLmxvZyhuZXh0TGV2ZWwpO1xuICAgICAgY29uc29sZS5sb2coXCJzdGF0ZTpcIik7XG4gICAgICBjb25zb2xlLmxvZygkc3RhdGUpO1xuICAgICAgY29uc29sZS5sb2coXCJzY29wZTpcIik7XG4gICAgICBjb25zb2xlLmxvZygkc2NvcGUpO1xuICAgICAgY29uc29sZS5sb2coXCJcXG5cXG5cXG5cIik7XG4gICAgfVxuICB9O1xuXG4gIHJlbG9hZERpcmVjdGl2ZSgpO1xufV07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IG1vZHNIaWVyYXJjaHlDb250cm9sbGVyO1xuXG59LHt9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlXG59KTtcbnZhciBtb2RzSXRlbXNDb250cm9sbGVyID0gW1wiJHNjb3BlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmN0cmwgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29wZSA9ICRzY29wZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlYnVnID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcGUudGVtcExpc3RJdGVtcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcGUudGVtcExpc3RJdGVtcy5wdXNoKFwidGVtcExpc3RJdGVtXCIgKyAoaSArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbn1dO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBtb2RzSXRlbXNDb250cm9sbGVyO1xuXG59LHt9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbi8qXG4gKiBOb3RlOlxuICogJHNjb3BlLm5ld0l0ZW0gPSB7XG4gKiAgIHVzZXI6IGxvZ2dlZCBpbiB1c2VyIGlkXG4gKiB9XG4gKiBcbiAqICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiBwYXNzZWQgaW4gZnJvbSBvdXRlciBzY29wZSB0byBjYW5jZWwvcmV0dXJuXG4gKi9cblxudmFyIG5ld1Bvc3RDb250cm9sbGVyID0gW1wiJHNjb3BlXCIsIFwiJGh0dHBcIiwgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHApIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB2YXIgZGVidWcgPSBmYWxzZTtcblxuICAkc2NvcGUuY3RybCA9IHRoaXM7XG4gIHRoaXMuc2NvcGUgPSAkc2NvcGU7XG5cbiAgdGhpcy5zY29wZS50cmFuc2FjdGlvbnMgPSBbXCJEZWFsXCIsIFwiQXVjdGlvblwiXTtcblxuICB0aGlzLnNjb3BlLmNhdGVnb3JpZXMgPSBbXCJNb2RzXCIsIFwiU29ydGllIFdlYXBvbnNcIiwgXCJWb2lkIFBhcnRzXCIsIFwiS2V5c1wiLCBcIkFyY2FuZXNcIl07XG5cbiAgdGhpcy5zY29wZS5kYXRlUGlja2VyID0ge1xuICAgIGZvcm1hdDogXCJ5eXl5LU1NLWRkXCIsXG4gICAgb3B0aW9uczoge1xuICAgICAgbWluRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIHN0YXJ0aW5nRGF5OiAxXG4gICAgfVxuICB9O1xuXG4gIHRoaXMuc3VibWl0UG9zdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2F0ZWdvcnkgPSBfdGhpcy5zY29wZS5uZXdJdGVtLmNhdGVnb3J5W1wiX2lkXCJdO1xuICAgIF90aGlzLnNjb3BlLm5ld0l0ZW0uY2F0ZWdvcnkubmFtZSA9IGNhdGVnb3J5O1xuICAgIF90aGlzLnNjb3BlLm5ld0l0ZW0uY2F0ZWdvcnkucGFyZW50ID0gbnVsbDtcbiAgICBfdGhpcy5zY29wZS5uZXdJdGVtLmNhdGVnb3J5LmFuY2VzdG9ycyA9IG51bGw7XG5cbiAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKF90aGlzLnNjb3BlKTtcblxuICAgICRodHRwLnBvc3QoXCIvYXBpL2l0ZW0vbmV3XCIsIF90aGlzLnNjb3BlLm5ld0l0ZW0sIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm5ld1Bvc3RDb250cm9sbGVyLCBzdWJtaXRQb3N0IHN1Y2Nlc3MhXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgfVxuICAgICAgX3RoaXMuY2FuY2VsUG9zdCgpO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm5ld1Bvc3RDb250cm9sbGVyLCBzdWJtaXRQb3N0IGVycm9yIVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmNhbmNlbFBvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90aGlzLnNjb3BlLmNhbmNlbCgpO1xuICB9O1xuXG4gIGlmICghdGhpcy5zY29wZS5uZXdJdGVtLmV4cGlyeSkgdGhpcy5zY29wZS5uZXdJdGVtLmV4cGlyeSA9IG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDMpO1xuXG4gIGlmICghdGhpcy5zY29wZS5uZXdJdGVtLnRyYW5zYWN0aW9uKSB0aGlzLnNjb3BlLm5ld0l0ZW0udHJhbnNhY3Rpb24gPSB0aGlzLnNjb3BlLnRyYW5zYWN0aW9uc1swXTtcblxuICBpZiAoIXRoaXMuc2NvcGUubmV3SXRlbS5jYXRlZ29yeSkge1xuICAgIHRoaXMuc2NvcGUubmV3SXRlbS5jYXRlZ29yeSA9IHtcbiAgICAgIF9pZDogdGhpcy5zY29wZS5jYXRlZ29yaWVzWzBdXG4gICAgfTtcbiAgfVxufV07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IG5ld1Bvc3RDb250cm9sbGVyO1xuXG59LHt9XSwxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciByb290Q29udHJvbGxlciA9IFtcIiRzY29wZVwiLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICRzY29wZS5jdHJsID0gdGhpcztcbiAgdGhpcy5zY29wZSA9ICRzY29wZTtcbn1dO1xuXG5leHBvcnRzLmRlZmF1bHQgPSByb290Q29udHJvbGxlcjtcblxufSx7fV0sMTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfc2VydmljZXMgPSByZXF1aXJlKFwiLi9zZXJ2aWNlc1wiKTtcblxudmFyIHNlcnZpY2VzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NlcnZpY2VzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gIHZhciB3YXJmcmFtZVNlcnZpY2VzID0gYW5ndWxhci5tb2R1bGUoXCJ3YXJmcmFtZVNlcnZpY2VzXCIsIFtdKTtcblxuICBmb3IgKHZhciBuYW1lIGluIHNlcnZpY2VzKSB7XG4gICAgd2FyZnJhbWVTZXJ2aWNlcy5zZXJ2aWNlKG5hbWUsIHNlcnZpY2VzW25hbWVdKTtcbiAgfVxufSkod2luZG93LmFuZ3VsYXIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFwid2FyZnJhbWVTZXJ2aWNlc1wiO1xuXG59LHtcIi4vc2VydmljZXNcIjoxNH1dLDEzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGl0ZW1DYXRlZ29yeVNlcnZpY2UgPSBbXCIkaHR0cFwiLCBcIiRxXCIsIGZ1bmN0aW9uICgkaHR0cCwgJHEpIHtcbiAgdmFyIGNhY2hlID0ge307XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRDYXRlZ29yeTogZnVuY3Rpb24gZ2V0Q2F0ZWdvcnkocGF0aCkge1xuICAgICAgaWYgKGNhY2hlW3BhdGhdICYmIGNhY2hlW3BhdGhdLmNhdGVnb3J5ICE9PSB1bmRlZmluZWQpIHJldHVybiBjYWNoZVtwYXRoXS5jYXRlZ29yeTtcblxuICAgICAgcmV0dXJuICRodHRwLmdldChcIi9hcGkvY2F0ZWdvcnlcIiArIHBhdGgpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAvLyBBUEkgcmV0dXJucyBJdGVtQ2F0ZWdvcnkgT2JqZWN0XG4gICAgICAgIGlmICghY2FjaGVbcGF0aF0pIGNhY2hlW3BhdGhdID0ge307XG5cbiAgICAgICAgY2FjaGVbcGF0aF0uY2F0ZWdvcnkgPSByZXMuZGF0YS5jYXRlZ29yeTtcbiAgICAgICAgcmV0dXJuIHJlcy5kYXRhLmNhdGVnb3J5O1xuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pOyAvLyBQcm9taXNlIHJlamVjdGVkLCByZXR1cm4gbnVsbFxuICAgIH0sXG5cbiAgICBnZXRDaGlsZHJlbjogZnVuY3Rpb24gZ2V0Q2hpbGRyZW4ocGF0aCkge1xuICAgICAgaWYgKGNhY2hlW3BhdGhdICYmIGNhY2hlW3BhdGhdLmNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHJldHVybiBjYWNoZVtwYXRoXS5jaGlsZHJlbjtcblxuICAgICAgcmV0dXJuICRodHRwLmdldChcIi9hcGkvY2F0ZWdvcnkvY2hpbGRyZW5cIiArIHBhdGgpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAoIWNhY2hlW3BhdGhdKSBjYWNoZVtwYXRoXSA9IHt9O1xuXG4gICAgICAgIGlmICghcmVzLmRhdGEuY2hpbGRyZW4gfHwgcmVzLmRhdGEuY2hpbGRyZW4ubGVuZ3RoID09IDApIHtcbiAgICAgICAgICBjYWNoZVtwYXRoXS5jaGlsZHJlbiA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBUEkgcmV0dXJucyBhcnJheSBvZiBjaGlsZHJlbiBjYXRlZ29yeSBuYW1lc1xuICAgICAgICBjYWNoZVtwYXRoXS5jaGlsZHJlbiA9IHJlcy5kYXRhLmNoaWxkcmVuLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHJldHVybiBlLm5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FjaGVbcGF0aF0uY2hpbGRyZW47XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSk7IC8vIFByb21pc2UgcmVqZWN0ZWQsIHJldHVybiBudWxsXG4gICAgfVxuICB9O1xufV07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGl0ZW1DYXRlZ29yeVNlcnZpY2U7XG5cbn0se31dLDE0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5pdGVtQ2F0ZWdvcnlTZXJ2aWNlID0gZXhwb3J0cy51c2VyU2Vzc2lvblNlcnZpY2UgPSB1bmRlZmluZWQ7XG5cbnZhciBfdXNlclNlc3Npb25TZXJ2aWNlID0gcmVxdWlyZShcIi4vdXNlclNlc3Npb25TZXJ2aWNlXCIpO1xuXG52YXIgX3VzZXJTZXNzaW9uU2VydmljZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91c2VyU2Vzc2lvblNlcnZpY2UpO1xuXG52YXIgX2l0ZW1DYXRlZ29yeVNlcnZpY2UgPSByZXF1aXJlKFwiLi9pdGVtQ2F0ZWdvcnlTZXJ2aWNlXCIpO1xuXG52YXIgX2l0ZW1DYXRlZ29yeVNlcnZpY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlbUNhdGVnb3J5U2VydmljZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMudXNlclNlc3Npb25TZXJ2aWNlID0gX3VzZXJTZXNzaW9uU2VydmljZTIuZGVmYXVsdDtcbmV4cG9ydHMuaXRlbUNhdGVnb3J5U2VydmljZSA9IF9pdGVtQ2F0ZWdvcnlTZXJ2aWNlMi5kZWZhdWx0O1xuXG59LHtcIi4vaXRlbUNhdGVnb3J5U2VydmljZVwiOjEzLFwiLi91c2VyU2Vzc2lvblNlcnZpY2VcIjoxNX1dLDE1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIHVzZXJTZXNzaW9uU2VydmljZSA9IFtcIiRodHRwXCIsIFwiJHFcIiwgZnVuY3Rpb24gKCRodHRwLCAkcSkge1xuICByZXR1cm4ge1xuICAgIGdldFVzZXJTZXNzaW9uOiBmdW5jdGlvbiBnZXRVc2VyU2Vzc2lvbigpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoXCIvYXBpL21lXCIpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICByZXR1cm4gcmVzLmRhdGEudXNlcjtcbiAgICAgIH0sIC8vIEFQSSByZXR1cm5zIHZhbGlkIHVzZXIgZGF0YSFcbiAgICAgIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KTtcbiAgICB9IC8vIFN0aWxsIHJlc29sdmUgcHJvbWlzZSwgd2l0aCB1c2VyIGFzIG51bGxcbiAgfTtcbn1dO1xuXG5leHBvcnRzLmRlZmF1bHQgPSB1c2VyU2Vzc2lvblNlcnZpY2U7XG5cbn0se31dfSx7fSxbMV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
